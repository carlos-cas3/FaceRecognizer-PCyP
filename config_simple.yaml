# Configuracion simplificada - FaceRecognizer
# Version para 1 sola camara

# Camara
camera:
  index: 0 # Indice de la camara (0 = webcam principal)
  name: "Camara Principal"
  resolution: [640, 480] # Resolucion de captura

# Deteccion YOLO
detection:
  model_path: "models/yolov8n-face-lindevs.pt"
  confidence: 0.5 # Confianza minima (0.0 - 1.0)
  detection_interval: 0.5 # Segundos entre detecciones YOLO
  device: "auto" # <--- ("0" para GPU, "cpu" para CPU)

# ZMQ (comunicacion con C++)
zmq:
  enabled: true # false = modo solo deteccion, true = enviar a C++

  # Registro de nuevas personas
  register_send_endpoint: "tcp://192.168.18.4:5555" # Python envía requests de registro
  register_recv_endpoint: "tcp://192.168.18.4:5556" # Python recibe confirmaciones

  # Reconocimiento de personas
  recognition_send_endpoint: "tcp://192.168.18.4:5557" # Python envía requests de reconocimiento
  recognition_recv_endpoint: "tcp://192.168.18.4:5558" # Python recibe identidades
  confidence_threshold: 0.7 # Confianza minima para aceptar identidad
  result_timeout: 10.0 # Timeout de respaldo
  position_match_threshold: 50 # Pixeles de tolerancia para matching por posicion
  position_cache_timeout: 10.0 # Segundos antes de olvidar posicion cacheada


# Arquitectura de puertos:
# - 5555: Python → C++ (registro requests)
# - 5556: C++ → Python (registro confirmaciones)
# - 5557: Python → C++ (reconocimiento requests)
# - 5558: C++ → Python (reconocimiento respuestas)
#
# Notas:
# - El nombre reconocido se mantiene mientras la cara este visible en pantalla
# - Si la cara sale y vuelve a entrar (< 10 seg), mantiene el nombre por posicion
# - Para probar sin C++: enabled: false
# - Para probar local: cambiar IP a 127.0.0.1
